"use strict";(self.webpackChunkang2_forum=self.webpackChunkang2_forum||[]).push([[224],{3224:function(t,e,r){r.r(e),r.d(e,{SettingsModule:function(){return m}});var o=r(2042),s=r(3818),i=r(3216),n=r(639),u=r(665),l=r(6860);const a=[{path:"",component:(()=>{class t{constructor(t,e,r){this.router=t,this.userService=e,this.fb=r,this.user={},this.errors={},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:""})}ngOnInit(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}logout(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}submitForm(){this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(t=>this.router.navigateByUrl("/profile/"+t.username),t=>{this.errors=t,this.isSubmitting=!1})}updateUser(t){Object.assign(this.user,t)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(s.F0),n.Y36(i.KD),n.Y36(u.qu))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-settings-page"]],decls:25,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"h1",4),n._uU(5,"Your Settings"),n.qZA(),n._UZ(6,"app-list-errors",5),n.TgZ(7,"form",6),n.NdJ("ngSubmit",function(){return e.submitForm()}),n.TgZ(8,"fieldset",7),n.TgZ(9,"fieldset",8),n._UZ(10,"input",9),n.qZA(),n.TgZ(11,"fieldset",8),n._UZ(12,"input",10),n.qZA(),n.TgZ(13,"fieldset",8),n.TgZ(14,"textarea",11),n._uU(15,"              "),n.qZA(),n.qZA(),n.TgZ(16,"fieldset",8),n._UZ(17,"input",12),n.qZA(),n.TgZ(18,"fieldset",8),n._UZ(19,"input",13),n.qZA(),n.TgZ(20,"button",14),n._uU(21," Update Settings "),n.qZA(),n.qZA(),n.qZA(),n._UZ(22,"hr"),n.TgZ(23,"button",15),n.NdJ("click",function(){return e.logout()}),n._uU(24," Or click here to logout. "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(6),n.Q6J("errors",e.errors),n.xp6(1),n.Q6J("formGroup",e.settingsForm),n.xp6(1),n.Q6J("disabled",e.isSubmitting))},directives:[l.S,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u],encapsulation:2}),t})(),canActivate:[i.a1]}];let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[s.Bz.forChild(a)],s.Bz]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[o.m8,c]]}),t})()}}]);