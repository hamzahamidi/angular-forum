!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ALb8:function(e,i,n){"use strict";n.r(i),n.d(i,"EditorModule",(function(){return K}));var o,a=n("ey9i"),c=n("lJxs"),s=n("JIr8"),l=n("fXoL"),u=n("tyNb"),b=((o=function(){function e(r,i,n){t(this,e),this.articlesService=r,this.router=i,this.userService=n}return r(e,[{key:"resolve",value:function(t,e){var r=this;return this.articlesService.get(t.params.slug).pipe(Object(c.a)((function(t){if(r.userService.getCurrentUser().username===t.author.username)return t;r.router.navigateByUrl("/")})),Object(s.a)((function(t){return r.router.navigateByUrl("/")})))}}]),e}()).\u0275fac=function(t){return new(t||o)(l.Ob(a.a),l.Ob(u.c),l.Ob(a.f))},o.\u0275prov=l.Db({token:o,factory:o.\u0275fac}),o),f=n("M0ag"),p=n("3Pt+"),d=n("vWSW"),h=n("ofXK");function m(t,e){if(1&t){var r=l.Lb();l.Kb(0,"span",15),l.Kb(1,"i",16),l.Rb("click",(function(){l.ec(r);var t=e.$implicit;return l.Tb().removeTag(t)})),l.Jb(),l.jc(2),l.Jb()}if(2&t){var i=e.$implicit;l.xb(2),l.lc(" ",i," ")}}var g,v,y,J=((g=function(){function e(r,i,n,o){t(this,e),this.articlesService=r,this.route=i,this.router=n,this.fb=o,this.article={},this.tagField=new p.c,this.errors={},this.isSubmitting=!1,this.articleForm=this.fb.group({title:"",description:"",body:""}),this.article.tagList=[]}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe((function(e){e.article&&(t.article=e.article,t.articleForm.patchValue(e.article))}))}},{key:"addTag",value:function(){var t=this.tagField.value;this.article.tagList.indexOf(t)<0&&this.article.tagList.push(t),this.tagField.reset("")}},{key:"removeTag",value:function(t){this.article.tagList=this.article.tagList.filter((function(e){return e!==t}))}},{key:"submitForm",value:function(){var t=this;this.isSubmitting=!0,this.updateArticle(this.articleForm.value),this.articlesService.save(this.article).subscribe((function(e){return t.router.navigateByUrl("/article/"+e.slug)}),(function(e){t.errors=e,t.isSubmitting=!1}))}},{key:"updateArticle",value:function(t){Object.assign(this.article,t)}}]),e}()).\u0275fac=function(t){return new(t||g)(l.Hb(a.a),l.Hb(u.a),l.Hb(u.c),l.Hb(p.b))},g.\u0275cmp=l.Bb({type:g,selectors:[["app-editor-page"]],decls:20,vars:5,consts:[[1,"editor-page"],[1,"container","page"],[1,"row"],[1,"col-md-10","offset-md-1","col-xs-12"],[3,"errors"],[3,"formGroup"],[3,"disabled"],[1,"form-group"],["formControlName","title","type","text","placeholder","Article Title",1,"form-control","form-control-lg"],["formControlName","description","type","text","placeholder","What's this article about?",1,"form-control"],["formControlName","body","rows","8","placeholder","Write your article (in markdown)",1,"form-control"],["type","text","placeholder","Enter tags",1,"form-control",3,"formControl","keyup.enter"],[1,"tag-list"],["class","tag-default tag-pill",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-lg","pull-xs-right","btn-primary",3,"click"],[1,"tag-default","tag-pill"],[1,"ion-close-round",3,"click"]],template:function(t,e){1&t&&(l.Kb(0,"div",0),l.Kb(1,"div",1),l.Kb(2,"div",2),l.Kb(3,"div",3),l.Ib(4,"app-list-errors",4),l.Kb(5,"form",5),l.Kb(6,"fieldset",6),l.Kb(7,"fieldset",7),l.Ib(8,"input",8),l.Jb(),l.Kb(9,"fieldset",7),l.Ib(10,"input",9),l.Jb(),l.Kb(11,"fieldset",7),l.Kb(12,"textarea",10),l.jc(13,"              "),l.Jb(),l.Jb(),l.Kb(14,"fieldset",7),l.Kb(15,"input",11),l.Rb("keyup.enter",(function(){return e.addTag()})),l.Jb(),l.Kb(16,"div",12),l.ic(17,m,3,1,"span",13),l.Jb(),l.Jb(),l.Kb(18,"button",14),l.Rb("click",(function(){return e.submitForm()})),l.jc(19," Publish Article "),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&t&&(l.xb(4),l.Zb("errors",e.errors),l.xb(1),l.Zb("formGroup",e.articleForm),l.xb(1),l.Zb("disabled",e.isSubmitting),l.xb(9),l.Zb("formControl",e.tagField),l.xb(2),l.Zb("ngForOf",e.article.tagList))},directives:[d.a,p.m,p.i,p.f,p.a,p.h,p.e,p.d,h.j],encapsulation:2}),g),k=[{path:"",component:J,canActivate:[a.b]},{path:":slug",component:J,canActivate:[a.b],resolve:{article:b}}],w=((y=function e(){t(this,e)}).\u0275mod=l.Fb({type:y}),y.\u0275inj=l.Eb({factory:function(t){return new(t||y)},imports:[[u.f.forChild(k)],u.f]}),y),K=((v=function e(){t(this,e)}).\u0275mod=l.Fb({type:v}),v.\u0275inj=l.Eb({factory:function(t){return new(t||v)},providers:[b],imports:[[f.a,w]]}),v)}}])}();