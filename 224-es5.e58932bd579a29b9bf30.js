!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}(self.webpackChunkang2_forum=self.webpackChunkang2_forum||[]).push([[224],{3224:function(e,o,n){n.r(o),n.d(o,{SettingsModule:function(){return g}});var i,s=n(2042),u=n(3818),a=n(3216),c=n(639),l=n(665),f=n(6860),m=[{path:"",component:(i=function(){function e(r,o,n){t(this,e),this.router=r,this.userService=o,this.fb=n,this.user={},this.errors={},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:""})}return r(e,[{key:"ngOnInit",value:function(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}},{key:"logout",value:function(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}},{key:"submitForm",value:function(){var t=this;this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(function(e){return t.router.navigateByUrl("/profile/"+e.username)},function(e){t.errors=e,t.isSubmitting=!1})}},{key:"updateUser",value:function(t){Object.assign(this.user,t)}}]),e}(),i.\u0275fac=function(t){return new(t||i)(c.Y36(u.F0),c.Y36(a.KD),c.Y36(l.qu))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-settings-page"]],decls:25,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"h1",4),c._uU(5,"Your Settings"),c.qZA(),c._UZ(6,"app-list-errors",5),c.TgZ(7,"form",6),c.NdJ("ngSubmit",function(){return e.submitForm()}),c.TgZ(8,"fieldset",7),c.TgZ(9,"fieldset",8),c._UZ(10,"input",9),c.qZA(),c.TgZ(11,"fieldset",8),c._UZ(12,"input",10),c.qZA(),c.TgZ(13,"fieldset",8),c.TgZ(14,"textarea",11),c._uU(15,"              "),c.qZA(),c.qZA(),c.TgZ(16,"fieldset",8),c._UZ(17,"input",12),c.qZA(),c.TgZ(18,"fieldset",8),c._UZ(19,"input",13),c.qZA(),c.TgZ(20,"button",14),c._uU(21," Update Settings "),c.qZA(),c.qZA(),c.qZA(),c._UZ(22,"hr"),c.TgZ(23,"button",15),c.NdJ("click",function(){return e.logout()}),c._uU(24," Or click here to logout. "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("errors",e.errors),c.xp6(1),c.Q6J("formGroup",e.settingsForm),c.xp6(1),c.Q6J("disabled",e.isSubmitting))},directives:[f.S,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u],encapsulation:2}),i),canActivate:[a.a1]}],p=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[u.Bz.forChild(m)],u.Bz]}),e}(),g=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.m8,p]]}),e}()}}])}();